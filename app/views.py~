from flask import render_template, redirect
from app import app
from app.forms.form import SaxsExperimentForm
from app.BussinesLogic import DirectoryAndFileReader, DirectoryAndFileWriter
from flask.ext.sqlalchemy import SQLAlchemy


@app.route('/', methods=['GET', 'POST'])
def home():
    form = SaxsExperimentForm()

    if form.validate_on_submit():
        DirectoryAndFileWriter.createExperiment(form)
        return redirect('/')

    return render_template('home.html', title="Submit a form", form=form,
                           exps=DirectoryAndFileReader.getSaxsExperiments())


@app.route('/experiment')
def experiment():
    return render_template("experiment.html")
